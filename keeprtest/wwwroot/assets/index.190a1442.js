import{r as t,c as e,o as a,a as o,b as n,F as r,d as s,e as c,f as i,g as l,C as u,i as d,S as p,h as g,p as m,j as h,t as b,w as f,k as v,l as w}from"./vendor.9110866b.js";const E=t({user:{},account:{}});const A={name:"App",setup:()=>({appState:e((()=>E))})},T=n("footer",null,[n("div",{class:"bg-dark text-light text-center p-4"}," Made with ðŸ’– by CodeWorks ")],-1);A.render=function(t,e,c,i,l,u){const d=s("Navbar"),p=s("router-view");return a(),o(r,null,[n("header",null,[n(d)]),n("main",null,[n(p)]),T],64)};const _=window.location.origin.includes("localhost"),k=_?"http://localhost:3000":"";let C;const y={},O=function(t,e){if(!e||0===e.length)return t();if(void 0===C){const t=document.createElement("link").relList;C=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if(t in y)return;y[t]=!0;const e=t.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${a}`))return;const o=document.createElement("link");return o.rel=e?"stylesheet":C,e||(o.as="script",o.crossOrigin=""),o.href=t,document.head.appendChild(o),e?new Promise(((t,e)=>{o.addEventListener("load",t),o.addEventListener("error",e)})):void 0}))).then((()=>t()))};function x(t){return()=>function(t){switch(t){case"./pages/AboutPage.vue":return O((()=>import("./AboutPage.15057607.js")),["/assets/AboutPage.15057607.js","/assets/vendor.9110866b.js"]);case"./pages/AccountPage.vue":return O((()=>import("./AccountPage.dc3f60f2.js")),["/assets/AccountPage.dc3f60f2.js","/assets/AccountPage.f3fa63f7.css","/assets/vendor.9110866b.js"]);case"./pages/HomePage.vue":return O((()=>import("./HomePage.92fefda6.js")),["/assets/HomePage.92fefda6.js","/assets/HomePage.c342d46c.css","/assets/vendor.9110866b.js"]);default:return Promise.reject(new Error("Unknown variable dynamic import: "+t))}}(`./pages/${t}.vue`)}const P=[{path:"/",name:"Home",component:x("HomePage")},{path:"/about",name:"About",component:x("AboutPage")},{path:"/account",name:"Account",component:x("AccountPage"),beforeEnter:l}],R=c({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:i(),routes:P});function S(t,e){if(_)console[t](`[${t}] :: ${(new Date).toLocaleTimeString()} :: `,...e);else{switch(t){case"log":case"assert":return}console[t](`[${t}] :: ${(new Date).toLocaleTimeString()} :: `,...e)}}const H={log(){S("log",arguments)},error(){S("error",arguments)},warn(){S("warn",arguments)},assert(){S("assert",arguments)},trace(){S("trace",arguments)}},I=u.create({baseURL:k,timeout:8e3});const N=new class{async getAccount(){try{const t=await I.get("/account");E.account=t.data}catch(t){H.error("HAVE YOU STARTED YOUR SERVER YET???",t)}}};let D=!1,L=[];const U="connected",j="authenticate",$="authenticated",B="error";const V=new class extends class{constructor(t=k){this.socket=d(t||k),this.on(U,this.onConnected).on($,this.onAuthenticated).on(B,this.onError)}on(t,e){return this.socket.on(t,e.bind(this)),this}onConnected(t){H.log("[SOCKET_CONNECTION]",t),D=!0}onAuthenticated(t){H.log("[SOCKET_AUTHENTICATED]",t);const e=[...L];L=[],e.forEach((t=>{this.emit(t.action,t.payload)}))}authenticate(t){this.socket.emit(j,t)}onError(t){H.error("[SOCKET_ERROR]",t)}emit(t,e){if(!D)return H.log("[ENQUEING_ACTION]",{action:t,payload:e}),L.push({action:t,payload:e});this.socket.emit(t,e)}}{constructor(){super(),this.on("error",this.onError)}onError(t){H.error("[SOCKET_ERROR]",t),class{static async confirm(t="Are you sure?",e="You won't be able to revert this!",a="warning",o="Yes, delete it!"){try{return!!(await p.fire({title:t,text:e,icon:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:o})).isConfirmed}catch(n){return!1}}static toast(t="Warning!",e="warning",a="top-end",o=3e3,n=!0){p.fire({title:t,icon:e,position:a,timer:o,timerProgressBar:n,toast:!0,showConfirmButton:!1})}}.toast(t.message,"error")}},W=g({domain:"",clientId:"",audience:"",useRefreshTokens:!0,onRedirectCallback:t=>{R.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}});async function Y(t){if(!W.isAuthenticated)return t;const e=1e3*W.identity.exp,a=e<Date.now(),o=e<Date.now()+432e5;return a?await W.loginWithPopup():o&&(await W.getTokenSilently(),I.defaults.headers.authorization=W.bearer,V.authenticate(W.bearer)),t}W.on(W.AUTH_EVENTS.AUTHENTICATED,(async function(){I.defaults.headers.authorization=W.bearer,I.interceptors.request.use(Y),E.user=W.user,await N.getAccount(),V.authenticate(W.bearer)}));const K={setup:()=>({state:t({dropOpen:!1}),user:e((()=>E.user)),async login(){W.loginWithPopup()},async logout(){W.logout({returnTo:window.location.origin})}})},z=f("data-v-1fe0b358");m("data-v-1fe0b358");const q={class:"navbar navbar-expand-lg navbar-dark bg-dark"},M=n("div",{class:"d-flex flex-column align-items-center"},[n("img",{alt:"logo",src:"/assets/cw-logo.71baeadb.png",height:"45"})],-1),F=n("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[n("span",{class:"navbar-toggler-icon"})],-1),G={class:"collapse navbar-collapse",id:"navbarText"},Q={class:"navbar-nav mr-auto"},J={class:"nav-item"},X=v(" Home "),Z={class:"nav-item"},tt=v(" About "),et={class:"navbar-text"},at={key:1,class:"dropdown"},ot={class:"mx-3"},nt=n("div",{class:"list-group-item list-group-item-action hoverable"}," Account ",-1);h();const rt=z(((t,e,r,c,i,l)=>{const u=s("router-link");return a(),o("nav",q,[n(u,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:z((()=>[M])),_:1}),F,n("div",G,[n("ul",Q,[n("li",J,[n(u,{to:{name:"Home"},class:"nav-link"},{default:z((()=>[X])),_:1})]),n("li",Z,[n(u,{to:{name:"About"},class:"nav-link"},{default:z((()=>[tt])),_:1})])]),n("span",et,[c.user.isAuthenticated?(a(),o("div",at,[n("div",{class:"dropdown-toggle",onClick:e[2]||(e[2]=t=>c.state.dropOpen=!c.state.dropOpen)},[n("img",{src:c.user.picture,alt:"user photo",height:"40",class:"rounded"},null,8,["src"]),n("span",ot,b(c.user.name),1)]),n("div",{class:["dropdown-menu p-0 list-group w-100",{show:c.state.dropOpen}],onClick:e[4]||(e[4]=t=>c.state.dropOpen=!1)},[n(u,{to:{name:"Account"}},{default:z((()=>[nt])),_:1}),n("div",{class:"list-group-item list-group-item-action hoverable",onClick:e[3]||(e[3]=(...t)=>c.logout&&c.logout(...t))}," logout ")],2)])):(a(),o("button",{key:0,class:"btn btn-outline-primary text-uppercase",onClick:e[1]||(e[1]=(...t)=>c.login&&c.login(...t))}," Login "))])])])}));K.render=rt,K.__scopeId="data-v-1fe0b358";var st=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:K});const ct=w(A);!function(t){const e={"./components/Navbar.vue":st};Object.entries(e).forEach((([e,a])=>{const o=a.name||e.substr(e.lastIndexOf("/")+1).replace(/\.\w+$/,"");t.component(o,a.default)}))}(ct),ct.use(R).mount("#app");export{E as A};
